import{S as O,i as U,s as H,P as $,Q as ee,m as w,h as d,n as g,b as E,G as v,H as D,k as q,l as C,R as A,a as N,c as V,M as ue,I as ae,o as ce,T as fe,q as j,r as P,J as ie,u as B,e as M,y as L,z as G,A as J,d as I,f as W,g as Q,U as _e,B as K,v as X,V as de}from"../chunks/index.8d34ad46.js";import{H as he}from"../chunks/HomeIcon.4d518922.js";import{t as ge,s as me}from"../chunks/stores.7f5f234a.js";async function pe({fetch:s}){const t=["easy","medium","hard"];let n=[];for(const r of t){const o=await(await s(`https://the-trivia-api.com/v2/questions?limit=2&difficulty=${r}`)).json();n=[...n,o]}let l=[];for(let r=0;r<3;r++)for(let a=0;a<2;a++){const o=n[r][a];let m=o.question.text,c=[];for(const u of o.incorrectAnswers)c.push({text:u,isCorrect:!1});c.push({text:o.correctAnswer,isCorrect:!0}),l.push({text:m,textTranslation:"",answers:c,difficulty:t[r],status:"unanswered"})}return{quizQuestions:l}}const Oe=Object.freeze(Object.defineProperty({__proto__:null,load:pe},Symbol.toStringTag,{value:"Module"}));function be(s){let e,t;return{c(){e=$("svg"),t=$("path"),this.h()},l(n){e=ee(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var l=w(e);t=ee(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),w(t).forEach(d),l.forEach(d),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"d","M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke-width","1.5"),g(e,"stroke","currentColor"),g(e,"class","w-6 h-6")},m(n,l){E(n,e,l),v(e,t)},p:D,i:D,o:D,d(n){n&&d(e)}}}class ke extends O{constructor(e){super(),U(this,e,null,be,H,{})}}function ve(s){let e,t;return{c(){e=q("div"),this.h()},l(n){e=C(n,"DIV",{class:!0}),w(e).forEach(d),this.h()},h(){g(e,"class",t="w-full aspect-square "+s[3]+" svelte-saan9c"),A(e,"blinking",s[0]&&s[1]=="unanswered"&&s[2]==="running")},m(n,l){E(n,e,l)},p(n,[l]){l&8&&t!==(t="w-full aspect-square "+n[3]+" svelte-saan9c")&&g(e,"class",t),l&15&&A(e,"blinking",n[0]&&n[1]=="unanswered"&&n[2]==="running")},i:D,o:D,d(n){n&&d(e)}}}function we(s,e,t){let{isCurrentQuestion:n=!1}=e,{questionStatus:l}=e,{gameStatus:r}=e,a="bg-base-300";return s.$$set=o=>{"isCurrentQuestion"in o&&t(0,n=o.isCurrentQuestion),"questionStatus"in o&&t(1,l=o.questionStatus),"gameStatus"in o&&t(2,r=o.gameStatus)},s.$$.update=()=>{s.$$.dirty&2&&(l=="unanswered"?t(3,a="bg-neutral"):l=="correct"?t(3,a="bg-success"):l=="incorrect"&&t(3,a="bg-error"))},[n,l,r,a]}class ye extends O{constructor(e){super(),U(this,e,we,ve,H,{isCurrentQuestion:0,questionStatus:1,gameStatus:2})}}function te(s,e,t){const n=s.slice();return n[9]=e[t],n[11]=t,n}function qe(s){let e;return{c(){e=q("span"),this.h()},l(t){e=C(t,"SPAN",{class:!0}),w(e).forEach(d),this.h()},h(){g(e,"class","loading loading-dots loading-xs")},m(t,n){E(t,e,n)},p:D,d(t){t&&d(e)}}}function Ce(s){let e=(s[3]?s[0].textTranslation:s[0].text)+"",t;return{c(){t=j(e)},l(n){t=P(n,e)},m(n,l){E(n,t,l)},p(n,l){l&9&&e!==(e=(n[3]?n[0].textTranslation:n[0].text)+"")&&B(t,e)},d(n){n&&d(t)}}}function Se(s){let e=s[9].text+"",t;return{c(){t=j(e)},l(n){t=P(n,e)},m(n,l){E(n,t,l)},p(n,l){l&1&&e!==(e=n[9].text+"")&&B(t,e)},d(n){n&&d(t)}}}function Ee(s){let e;function t(r,a){return r[9].translation===void 0?Ae:Te}let n=t(s),l=n(s);return{c(){l.c(),e=M()},l(r){l.l(r),e=M()},m(r,a){l.m(r,a),E(r,e,a)},p(r,a){n===(n=t(r))&&l?l.p(r,a):(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&d(e)}}}function Te(s){let e=s[9].translation+"",t;return{c(){t=j(e)},l(n){t=P(n,e)},m(n,l){E(n,t,l)},p(n,l){l&1&&e!==(e=n[9].translation+"")&&B(t,e)},d(n){n&&d(t)}}}function Ae(s){let e;return{c(){e=q("span"),this.h()},l(t){e=C(t,"SPAN",{class:!0}),w(e).forEach(d),this.h()},h(){g(e,"class","loading loading-dots loading-xs")},m(t,n){E(t,e,n)},p:D,d(t){t&&d(e)}}}function ne(s){let e,t,n=s[4][s[11]]+"",l,r,a,o,m,c,u;function _(b,k){return b[3]?Ee:Se}let i=_(s),f=i(s);function S(){return s[7](s[9])}return{c(){e=q("button"),t=q("div"),l=j(n),r=N(),a=q("div"),f.c(),o=N(),this.h()},l(b){e=C(b,"BUTTON",{class:!0});var k=w(e);t=C(k,"DIV",{class:!0});var T=w(t);l=P(T,n),T.forEach(d),r=V(k),a=C(k,"DIV",{class:!0});var R=w(a);f.l(R),R.forEach(d),o=V(k),k.forEach(d),this.h()},h(){g(t,"class","bg-base-300 text-base-content font-bold text-xl min-h-full rounded-l py-2 min-w-full flex justify-center items-center"),g(a,"class","font-normal w-full h-full flex justify-center items-center rounded-r p-2"),e.disabled=m=s[1]!=null,g(e,"class","bg-neutral text-neutral-content px-0 w-full min-w-full h-full grid grid-cols-[3rem_1fr] place-items-center gap-1 rounded-l-lg svelte-z9u9kc"),A(e,"bg-warning",s[1]===s[9]&&s[2]===null),A(e,"!bg-success",s[2]!=null&&s[9].isCorrect),A(e,"!bg-error",s[1]===s[9]&&s[2]===!1)},m(b,k){E(b,e,k),v(e,t),v(t,l),v(e,r),v(e,a),f.m(a,null),v(e,o),c||(u=ie(e,"click",S),c=!0)},p(b,k){s=b,i===(i=_(s))&&f?f.p(s,k):(f.d(1),f=i(s),f&&(f.c(),f.m(a,null))),k&2&&m!==(m=s[1]!=null)&&(e.disabled=m),k&7&&A(e,"bg-warning",s[1]===s[9]&&s[2]===null),k&5&&A(e,"!bg-success",s[2]!=null&&s[9].isCorrect),k&7&&A(e,"!bg-error",s[1]===s[9]&&s[2]===!1)},d(b){b&&d(e),f.d(),c=!1,u()}}}function De(s){let e,t,n,l;function r(u,_){return u[0].textTranslation?Ce:qe}let a=r(s),o=a(s),m=s[0].answers.sort(se),c=[];for(let u=0;u<m.length;u+=1)c[u]=ne(te(s,m,u));return{c(){e=q("div"),t=q("h2"),o.c(),n=N(),l=q("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=C(u,"DIV",{class:!0});var _=w(e);t=C(_,"H2",{class:!0});var i=w(t);o.l(i),i.forEach(d),n=V(_),l=C(_,"DIV",{class:!0});var f=w(l);for(let S=0;S<c.length;S+=1)c[S].l(f);f.forEach(d),_.forEach(d),this.h()},h(){g(t,"class","text-lg mb-12"),g(l,"class","flex flex-col gap-2 w-full"),g(e,"class","mb-12")},m(u,_){E(u,e,_),v(e,t),o.m(t,null),v(e,n),v(e,l);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(l,null)},p(u,[_]){if(a===(a=r(u))&&o?o.p(u,_):(o.d(1),o=a(u),o&&(o.c(),o.m(t,null))),_&63){m=u[0].answers.sort(se);let i;for(i=0;i<m.length;i+=1){const f=te(u,m,i);c[i]?c[i].p(f,_):(c[i]=ne(f),c[i].c(),c[i].m(l,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=m.length}},i:D,o:D,d(u){u&&d(e),o.d(),ue(c,u)}}}async function Ie(s,e){let t=`${s.text}`;for(const o of s.answers)t=t.concat(`
${o.text}`);const n=encodeURIComponent(t),a=(await(await fetch(`/api/translate/${e}/${n}`,{method:"POST"})).json()).translatedText.split(`
`);s.textTranslation=a[0];for(let o=0;o<4;o++)s.answers[o].translation=a[o+1];return s}function Qe(s){return new Promise(e=>{setTimeout(e,s)})}const se=(s,e)=>s.text.localeCompare(e.text);function je(s,e,t){let n;ae(s,ge,i=>t(3,n=i));let{question:l}=e,{target_lang:r}=e;const a=["A","B","C","D"];ce(async()=>{t(0,l=await Ie(l,r)),console.log(l)});let o=null,m=null;const c=fe();async function u(i){await Qe(500),t(2,m=i.isCorrect),c("answerClick",{value:i.isCorrect})}const _=i=>{t(1,o=i),u(i)};return s.$$set=i=>{"question"in i&&t(0,l=i.question),"target_lang"in i&&t(6,r=i.target_lang)},[l,o,m,n,a,u,r,_]}class Pe extends O{constructor(e){super(),U(this,e,je,De,H,{question:0,target_lang:6})}}function le(s,e,t){const n=s.slice();return n[12]=e[t],n}function Ne(s){let e,t,n,l,r,a=s[0].length+"",o,m,c,u,_;return u=new he({}),{c(){e=q("div"),t=q("h2"),n=q("span"),l=j(s[2]),r=j(`
					/ `),o=j(a),m=N(),c=q("a"),L(u.$$.fragment),this.h()},l(i){e=C(i,"DIV",{class:!0});var f=w(e);t=C(f,"H2",{class:!0});var S=w(t);n=C(S,"SPAN",{class:!0});var b=w(n);l=P(b,s[2]),b.forEach(d),r=P(S,`
					/ `),o=P(S,a),S.forEach(d),m=V(f),c=C(f,"A",{class:!0,href:!0});var k=w(c);G(u.$$.fragment,k),k.forEach(d),f.forEach(d),this.h()},h(){g(n,"class","text-success"),g(t,"class","font-bold"),g(c,"class","btn"),g(c,"href","/"),g(e,"class","flex flex-col gap-4 justify-center items-center my-5")},m(i,f){E(i,e,f),v(e,t),v(t,n),v(n,l),v(t,r),v(t,o),v(e,m),v(e,c),J(u,c,null),_=!0},p(i,f){(!_||f&4)&&B(l,i[2]),(!_||f&1)&&a!==(a=i[0].length+"")&&B(o,a)},i(i){_||(Q(u.$$.fragment,i),_=!0)},o(i){I(u.$$.fragment,i),_=!1},d(i){i&&d(e),K(u)}}}function Ve(s){let e=s[1],t,n,l=re(s);return{c(){l.c(),t=M()},l(r){l.l(r),t=M()},m(r,a){l.m(r,a),E(r,t,a),n=!0},p(r,a){a&2&&H(e,e=r[1])?(X(),I(l,1,1,D),W(),l=re(r),l.c(),Q(l,1),l.m(t.parentNode,t)):l.p(r,a)},i(r){n||(Q(l),n=!0)},o(r){I(l),n=!1},d(r){r&&d(t),l.d(r)}}}function re(s){let e,t;return e=new Pe({props:{question:s[5],target_lang:s[6].languageCode}}),e.$on("answerClick",s[10]),{c(){L(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,l){J(e,n,l),t=!0},p(n,l){const r={};l&32&&(r.question=n[5]),l&64&&(r.target_lang=n[6].languageCode),e.$set(r)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function oe(s,e){let t,n,l;return n=new ye({props:{gameStatus:e[3],questionStatus:e[12].status,isCurrentQuestion:e[5]==e[12]}}),{key:s,first:null,c(){t=M(),L(n.$$.fragment),this.h()},l(r){t=M(),G(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,a){E(r,t,a),J(n,r,a),l=!0},p(r,a){e=r;const o={};a&8&&(o.gameStatus=e[3]),a&1&&(o.questionStatus=e[12].status),a&33&&(o.isCurrentQuestion=e[5]==e[12]),n.$set(o)},i(r){l||(Q(n.$$.fragment,r),l=!0)},o(r){I(n.$$.fragment,r),l=!1},d(r){r&&d(t),K(n,r)}}}function Me(s){let e,t,n,l,r,a,o=[],m=new Map,c,u,_,i,f,S,b;const k=[Ve,Ne],T=[];function R(h,p){return h[3]==="running"?0:1}n=R(s),l=T[n]=k[n](s);let z=s[0];const Y=h=>h[12].text;for(let h=0;h<z.length;h+=1){let p=le(s,z,h),y=Y(p);m.set(y,o[h]=oe(y,p))}return _=new ke({}),{c(){e=q("main"),t=q("div"),l.c(),r=N(),a=q("div");for(let h=0;h<o.length;h+=1)o[h].c();c=N(),u=q("button"),L(_.$$.fragment),this.h()},l(h){e=C(h,"MAIN",{class:!0});var p=w(e);t=C(p,"DIV",{class:!0});var y=w(t);l.l(y),r=V(y),a=C(y,"DIV",{class:!0});var Z=w(a);for(let F=0;F<o.length;F+=1)o[F].l(Z);Z.forEach(d),c=V(y),u=C(y,"BUTTON",{class:!0});var x=w(u);G(_.$$.fragment,x),x.forEach(d),y.forEach(d),p.forEach(d),this.h()},h(){g(a,"class","flex justify-between items-center w-full gap-2"),u.disabled=i=!s[4],g(u,"class","btn btn-secondary w-full mt-8"),A(u,"hidden",s[3]==="over"),g(t,"class","w-full flex flex-col"),g(e,"class","max-w-screen-sm mx-auto flex justify-center items-center min-h-full w-full")},m(h,p){E(h,e,p),v(e,t),T[n].m(t,null),v(t,r),v(t,a);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(a,null);v(t,c),v(t,u),J(_,u,null),f=!0,S||(b=ie(u,"click",s[11]),S=!0)},p(h,[p]){let y=n;n=R(h),n===y?T[n].p(h,p):(X(),I(T[y],1,1,()=>{T[y]=null}),W(),l=T[n],l?l.p(h,p):(l=T[n]=k[n](h),l.c()),Q(l,1),l.m(t,r)),p&41&&(z=h[0],X(),o=_e(o,p,Y,1,h,z,m,a,de,oe,null,le),W()),(!f||p&16&&i!==(i=!h[4]))&&(u.disabled=i),(!f||p&8)&&A(u,"hidden",h[3]==="over")},i(h){if(!f){Q(l);for(let p=0;p<z.length;p+=1)Q(o[p]);Q(_.$$.fragment,h),f=!0}},o(h){I(l);for(let p=0;p<o.length;p+=1)I(o[p]);I(_.$$.fragment,h),f=!1},d(h){h&&d(e),T[n].d();for(let p=0;p<o.length;p+=1)o[p].d();K(_),S=!1,b()}}}function Re(s,e,t){let n,l;ae(s,me,b=>t(6,l=b));let{data:r}=e,a=r.quizQuestions,o=0,m=0,c="running",u=!1;function _(b,k){k?(t(5,n.status="correct",n),t(2,m++,m)):t(5,n.status="incorrect",n),t(4,u=!0)}function i(){o<a.length-1?(t(1,o++,o),t(4,u=!1)):t(3,c="over")}const f=b=>{_(a,b.detail.value),t(0,a)},S=()=>i();return s.$$set=b=>{"data"in b&&t(9,r=b.data)},s.$$.update=()=>{s.$$.dirty&3&&t(5,n=a[o])},[a,o,m,c,u,n,l,_,i,r,f,S]}class Ue extends O{constructor(e){super(),U(this,e,Re,Me,H,{data:9})}}export{Ue as component,Oe as universal};
